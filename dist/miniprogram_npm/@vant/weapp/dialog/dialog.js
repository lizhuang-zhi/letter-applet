"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var queue=[];function getContext(){var t=getCurrentPages();return t[t.length-1]}var Dialog=function(o){return o=__assign(__assign({},Dialog.currentOptions),o),new Promise(function(t,e){var n=(o.context||getContext()).selectComponent(o.selector);delete o.context,delete o.selector,n?(n.setData(__assign({onCancel:e,onConfirm:t},o)),wx.nextTick(function(){n.setData({show:!0})}),queue.push(n)):console.warn("未找到 van-dialog 节点，请确认 selector 及 context 是否正确")})};Dialog.defaultOptions={show:!1,title:"",width:null,message:"",zIndex:100,overlay:!0,selector:"#van-dialog",className:"",asyncClose:!1,transition:"scale",customStyle:"",messageAlign:"",overlayStyle:"",confirmButtonText:"确认",cancelButtonText:"取消",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,confirmButtonOpenType:""},(Dialog.alert=Dialog).confirm=function(t){return Dialog(__assign({showCancelButton:!0},t))},Dialog.close=function(){queue.forEach(function(t){t.close()}),queue=[]},Dialog.stopLoading=function(){queue.forEach(function(t){t.stopLoading()})},Dialog.setDefaultOptions=function(t){Object.assign(Dialog.currentOptions,t)},Dialog.resetDefaultOptions=function(){Dialog.currentOptions=__assign({},Dialog.defaultOptions)},Dialog.resetDefaultOptions(),exports.default=Dialog;