"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("../common/component"),touch_1=require("../mixins/touch"),version_1=require("../common/version");component_1.VantComponent({mixins:[touch_1.touch],props:{disabled:Boolean,useButtonSlot:Boolean,activeColor:String,inactiveColor:String,max:{type:Number,value:100},min:{type:Number,value:0},step:{type:Number,value:1},value:{type:Number,value:0,observer:"updateValue"},barHeight:{type:null,value:"2px"}},created:function(){this.updateValue(this.data.value)},methods:{onTouchStart:function(t){this.data.disabled||(this.touchStart(t),this.startValue=this.format(this.data.value),this.dragStatus="start")},onTouchMove:function(t){var e=this;this.data.disabled||("start"===this.dragStatus&&this.$emit("drag-start"),this.touchMove(t),this.dragStatus="draging",this.getRect(".van-slider").then(function(t){t=e.deltaX/t.width*100;e.newValue=e.startValue+t,e.updateValue(e.newValue,!1,!0)}))},onTouchEnd:function(){this.data.disabled||"draging"===this.dragStatus&&(this.updateValue(this.newValue,!0),this.$emit("drag-end"))},onClick:function(e){var a,i=this;this.data.disabled||(a=this.data.min,this.getRect(".van-slider").then(function(t){t=(e.detail.x-t.left)/t.width*i.getRange()+a;i.updateValue(t,!0)}))},updateValue:function(t,e,a){var i=100*((t=this.format(t))-this.data.min)/this.getRange()+"%";this.setData({value:t,barStyle:"\n          width: "+i+";\n          "+(a?"transition: none;":"")+"\n        "}),a&&this.$emit("drag",{value:t}),e&&this.$emit("change",t),(a||e)&&version_1.canIUseModel()&&this.setData({value:t})},getRange:function(){var t=this.data;return t.max-t.min},format:function(t){var e=this.data,a=e.max,i=e.min,e=e.step;return Math.round(Math.max(i,Math.min(t,a))/e)*e}}});