"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("../../../common/component"),utils_1=require("../../utils");component_1.VantComponent({props:{date:{type:null,observer:"setDays"},type:{type:String,observer:"setDays"},color:String,minDate:{type:null,observer:"setDays"},maxDate:{type:null,observer:"setDays"},showMark:Boolean,rowHeight:[Number,String],formatter:{type:null,observer:"setDays"},currentDate:{type:[null,Array],observer:"setDays"},allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean},data:{visible:!0,days:[]},methods:{onClick:function(t){t=t.currentTarget.dataset.index,t=this.data.days[t];"disabled"!==t.type&&this.$emit("click",t)},setDays:function(){for(var t=[],e=new Date(this.data.date),a=e.getFullYear(),r=e.getMonth(),n=utils_1.getMonthEndDay(e.getFullYear(),e.getMonth()+1),s=1;s<=n;s++){var o=new Date(a,r,s),i=this.getDayType(o),i={date:o,type:i,text:s,bottomInfo:this.getBottomInfo(i)};this.data.formatter&&(i=this.data.formatter(i)),t.push(i)}this.setData({days:t})},getMultipleDayType:function(t){var a=this.data.currentDate;if(!Array.isArray(a))return"";function e(e){return a.some(function(t){return 0===utils_1.compareDay(t,e)})}if(e(t)){var r=utils_1.getPrevDay(t),t=utils_1.getNextDay(t),r=e(r),t=e(t);return r&&t?"multiple-middle":r?"end":t?"start":"multiple-selected"}return""},getRangeDayType:function(t){var e=this.data,a=e.currentDate,r=e.allowSameDay;if(Array.isArray(a)){e=a[0],a=a[1];if(e){e=utils_1.compareDay(t,e);if(!a)return 0===e?"start":"";a=utils_1.compareDay(t,a);return 0===e&&0===a&&r?"start-end":0===e?"start":0===a?"end":0<e&&a<0?"middle":void 0}}},getDayType:function(t){var e=this.data,a=e.type,r=e.minDate,n=e.maxDate,e=e.currentDate;return utils_1.compareDay(t,r)<0||0<utils_1.compareDay(t,n)?"disabled":"single"===a?0===utils_1.compareDay(t,e)?"selected":"":"multiple"===a?this.getMultipleDayType(t):"range"===a?this.getRangeDayType(t):void 0},getBottomInfo:function(t){if("range"===this.data.type)return"start"===t?"开始":"end"===t?"结束":"start-end"===t?"开始/结束":void 0}}});