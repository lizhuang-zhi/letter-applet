"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VantComponent=void 0;var basic_1=require("../mixins/basic"),relationFunctions={ancestor:{linked:function(e){this.parent=e},unlinked:function(){this.parent=null}},descendant:{linked:function(e){this.children=this.children||[],this.children.push(e)},unlinked:function(n){this.children=(this.children||[]).filter(function(e){return e!==n})}}};function mapKeys(n,i,t){Object.keys(t).forEach(function(e){n[e]&&(i[t[e]]=n[e])})}function makeRelation(e,n,i){var t=i.type,s=i.name,a=i.linked,o=i.unlinked,r=i.linkChanged,d=n.beforeCreate,l=n.destroyed;"descendant"===t&&(e.created=function(){d&&d.bind(this)(),this.children=this.children||[]},e.detached=function(){this.children=[],l&&l.bind(this)()}),e.relations=Object.assign(e.relations||{},((e={})["../"+s+"/index"]={type:t,linked:function(e){relationFunctions[t].linked.bind(this)(e),a&&a.bind(this)(e)},linkChanged:function(e){r&&r.bind(this)(e)},unlinked:function(e){relationFunctions[t].unlinked.bind(this)(e),o&&o.bind(this)(e)}},e))}function VantComponent(e){var n={};mapKeys(e=void 0===e?{}:e,n,{data:"data",props:"properties",mixins:"behaviors",methods:"methods",beforeCreate:"created",created:"attached",mounted:"ready",relations:"relations",destroyed:"detached",classes:"externalClasses"});var i=e.relation;i&&makeRelation(n,e,i),n.externalClasses=n.externalClasses||[],n.externalClasses.push("custom-class"),n.behaviors=n.behaviors||[],n.behaviors.push(basic_1.basic),e.field&&n.behaviors.push("wx://form-field"),n.properties&&Object.keys(n.properties).forEach(function(e){Array.isArray(n.properties[e])&&(n.properties[e]=null)}),n.options={multipleSlots:!0,addGlobalClass:!0},Component(n)}exports.VantComponent=VantComponent;